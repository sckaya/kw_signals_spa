{"remainingRequest":"C:\\Users\\mmak\\KJSP\\kwproductsapp\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\mmak\\KJSP\\kwproductsapp\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\mmak\\KJSP\\kwproductsapp\\src\\store\\index.js","dependencies":[{"path":"C:\\Users\\mmak\\KJSP\\kwproductsapp\\src\\store\\index.js","mtime":1607562577847},{"path":"C:\\Users\\mmak\\KJSP\\kwproductsapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\mmak\\KJSP\\kwproductsapp\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\mmak\\KJSP\\kwproductsapp\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7ClZ1ZS51c2UoVnVleCk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgc3RhdHVzOiAnJywKICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSB8fCAnJywKICAgIHVzZXI6IHt9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGF1dGhfcmVxdWVzdDogZnVuY3Rpb24gYXV0aF9yZXF1ZXN0KHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9ICdsb2FkaW5nJzsKICAgIH0sCiAgICBhdXRoX3N1Y2Nlc3M6IGZ1bmN0aW9uIGF1dGhfc3VjY2VzcyhzdGF0ZSwgdG9rZW4sIHVzZXIpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gJ3N1Y2Nlc3MnOwogICAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogICAgICBzdGF0ZS51c2VyID0gdXNlcjsKICAgIH0sCiAgICBhdXRoX2Vycm9yOiBmdW5jdGlvbiBhdXRoX2Vycm9yKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9ICdlcnJvcic7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gJyc7CiAgICAgIHN0YXRlLnRva2VuID0gJyc7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgdXNlcikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgY29tbWl0KCdhdXRoX3JlcXVlc3QnKTsKICAgICAgICBheGlvcyh7CiAgICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvbG9naW4nLAogICAgICAgICAgZGF0YTogdXNlciwKICAgICAgICAgIG1ldGhvZDogJ1BPU1QnCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgdmFyIHRva2VuID0gcmVzcC5kYXRhLnRva2VuOwogICAgICAgICAgdmFyIHVzZXIgPSByZXNwLmRhdGEudXNlcjsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKTsgLy8gQWRkIHRoZSBmb2xsb3dpbmcgbGluZToKCiAgICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gdG9rZW47CiAgICAgICAgICBjb21taXQoJ2F1dGhfc3VjY2VzcycsIHRva2VuLCB1c2VyKTsKICAgICAgICAgIHJlc29sdmUocmVzcCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29tbWl0KCdhdXRoX2Vycm9yJyk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsKICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoX3JlZjIsIHVzZXIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBjb21taXQoJ2F1dGhfcmVxdWVzdCcpOwogICAgICAgIGF4aW9zKHsKICAgICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9yZWdpc3RlcicsCiAgICAgICAgICBkYXRhOiB1c2VyLAogICAgICAgICAgbWV0aG9kOiAnUE9TVCcKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICB2YXIgdG9rZW4gPSByZXNwLmRhdGEudG9rZW47CiAgICAgICAgICB2YXIgdXNlciA9IHJlc3AuZGF0YS51c2VyOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pOyAvLyBBZGQgdGhlIGZvbGxvd2luZyBsaW5lOgoKICAgICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSB0b2tlbjsKICAgICAgICAgIGNvbW1pdCgnYXV0aF9zdWNjZXNzJywgdG9rZW4sIHVzZXIpOwogICAgICAgICAgcmVzb2x2ZShyZXNwKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBjb21taXQoJ2F1dGhfZXJyb3InLCBlcnIpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjMpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBjb21taXQoJ2xvZ291dCcpOwogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOwogICAgICAgIGRlbGV0ZSBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddOwogICAgICAgIHJlc29sdmUoKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBnZXR0ZXJzOiB7CiAgICBpc0xvZ2dlZEluOiBmdW5jdGlvbiBpc0xvZ2dlZEluKHN0YXRlKSB7CiAgICAgIHJldHVybiAhIXN0YXRlLnRva2VuOwogICAgfSwKICAgIGF1dGhTdGF0dXM6IGZ1bmN0aW9uIGF1dGhTdGF0dXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnN0YXR1czsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["C:/Users/mmak/KJSP/kwproductsapp/src/store/index.js"],"names":["Vue","Vuex","axios","use","Store","state","status","token","localStorage","getItem","user","mutations","auth_request","auth_success","auth_error","logout","actions","login","commit","Promise","resolve","reject","url","data","method","then","resp","setItem","defaults","headers","common","catch","err","removeItem","register","getters","isLoggedIn","authStatus"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport axios from 'axios'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n\tstate: {\r\n  \t\tstatus: '',\r\n  \t\ttoken: localStorage.getItem('token') || '',\r\n  \t\tuser : {}\r\n\t},\r\n\tmutations: {\r\n\t\tauth_request(state){\r\n\t    \tstate.status = 'loading'\r\n\t  \t},\r\n\t  \tauth_success(state, token, user){\r\n\t\t    state.status = 'success'\r\n\t\t    state.token = token\r\n\t\t    state.user = user\r\n\t  \t},\r\n\t  \tauth_error(state){\r\n\t    \tstate.status = 'error'\r\n\t  \t},\r\n\t  \tlogout(state){\r\n\t    \tstate.status = ''\r\n\t    \tstate.token = ''\r\n\t  \t},\r\n\t},\r\n\tactions: {\r\n\t  \tlogin({commit}, user){\r\n\t        return new Promise((resolve, reject) => {\r\n\t            commit('auth_request')\r\n\t            axios({url: 'http://localhost:3000/login', data: user, method: 'POST' })\r\n\t            .then(resp => {\r\n\t                const token = resp.data.token\r\n\t                const user = resp.data.user\r\n\t                localStorage.setItem('token', token)\r\n\t                // Add the following line:\r\n\t                axios.defaults.headers.common['Authorization'] = token\r\n\t                commit('auth_success', token, user)\r\n\t                resolve(resp)\r\n\t            })\r\n\t            .catch(err => {\r\n\t                commit('auth_error')\r\n\t                localStorage.removeItem('token')\r\n\t                reject(err)\r\n\t            })\r\n\t        })\r\n\t    },\r\n\t    register({commit}, user){\r\n\t    \treturn new Promise((resolve, reject) => {\r\n\t            commit('auth_request')\r\n\t            axios({url: 'http://localhost:3000/register', data: user, method: 'POST' })\r\n\t            .then(resp => {\r\n\t                const token = resp.data.token\r\n\t                const user = resp.data.user\r\n\t                localStorage.setItem('token', token)\r\n\t                // Add the following line:\r\n\t                axios.defaults.headers.common['Authorization'] = token\r\n\t                commit('auth_success', token, user)\r\n\t                resolve(resp)\r\n\t            })\r\n\t            .catch(err => {\r\n\t                commit('auth_error', err)\r\n\t                localStorage.removeItem('token')\r\n\t                reject(err)\r\n\t            })\r\n\t        })\r\n\t    },\r\n\t  \tlogout({commit}){\r\n\t\t    return new Promise((resolve, reject) => {\r\n\t\t      \tcommit('logout')\r\n\t\t      \tlocalStorage.removeItem('token')\r\n\t\t      \tdelete axios.defaults.headers.common['Authorization']\r\n\t\t      \tresolve()\r\n\t\t    })\r\n\t  \t}\r\n\t},\r\n\tgetters : {\r\n\t  isLoggedIn: state => !!state.token,\r\n\t  authStatus: state => state.status,\r\n\t}\r\n})"]}]}