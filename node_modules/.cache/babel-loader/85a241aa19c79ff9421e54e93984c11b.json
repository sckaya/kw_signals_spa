{"remainingRequest":"C:\\Users\\mmak\\KJSP\\kwproductsapp\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\mmak\\KJSP\\kwproductsapp\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\mmak\\KJSP\\kwproductsapp\\src\\store\\index.js","dependencies":[{"path":"C:\\Users\\mmak\\KJSP\\kwproductsapp\\src\\store\\index.js","mtime":1607642450565},{"path":"C:\\Users\\mmak\\KJSP\\kwproductsapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\mmak\\KJSP\\kwproductsapp\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\mmak\\KJSP\\kwproductsapp\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7ClZ1ZS51c2UoVnVleCk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgc3RhdHVzOiAnJywKICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSB8fCAnJywKICAgIHVzZXI6IHt9LAogICAgcGFnZW51bTogJzEnLAogICAgbnVtcGFnZXM6ICctMScKICB9LAogIG11dGF0aW9uczogewogICAgYXV0aF9yZXF1ZXN0OiBmdW5jdGlvbiBhdXRoX3JlcXVlc3Qoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gJ2xvYWRpbmcnOwogICAgfSwKICAgIGF1dGhfc3VjY2VzczogZnVuY3Rpb24gYXV0aF9zdWNjZXNzKHN0YXRlLCB0b2tlbiwgdXNlcikgewogICAgICBzdGF0ZS5zdGF0dXMgPSAnc3VjY2Vzcyc7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogICAgfSwKICAgIGF1dGhfZXJyb3I6IGZ1bmN0aW9uIGF1dGhfZXJyb3Ioc3RhdGUsIGVycikgewogICAgICBzdGF0ZS5zdGF0dXMgPSBlcnI7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gJyc7CiAgICAgIHN0YXRlLnRva2VuID0gJyc7CiAgICB9LAogICAgdXBkYXRlUGFnZU51bTogZnVuY3Rpb24gdXBkYXRlUGFnZU51bShzdGF0ZSwgbnVtKSB7CiAgICAgIGNvbnNvbGUubG9nKG51bSk7CiAgICAgIHN0YXRlLnBhZ2VudW0gPSBudW07CiAgICB9LAogICAgdXBkYXRlUGFnZUNvdW50OiBmdW5jdGlvbiB1cGRhdGVQYWdlQ291bnQoc3RhdGUsIHBhZ2Vjb3VudCkgewogICAgICBjb25zb2xlLmxvZyhwYWdlY291bnQpOwogICAgICBzdGF0ZS5udW1wYWdlcyA9IHBhZ2Vjb3VudDsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCB1c2VyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBjb21taXQoJ2F1dGhfcmVxdWVzdCcpOwogICAgICAgIGF4aW9zKHsKICAgICAgICAgIHVybDogJ2h0dHBzOi8vZ3Jhc3BlcmFwaS5henVyZXdlYnNpdGVzLm5ldC9hcGkvdjEvVXNlcnMvYXV0aGVudGljYXRlJywKICAgICAgICAgIGRhdGE6IHVzZXIsCiAgICAgICAgICBtZXRob2Q6ICdQT1NUJwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3AuZGF0YS50b2tlbjsKICAgICAgICAgIHZhciB1c2VyID0gcmVzcC5kYXRhLnVzZXI7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbik7IC8vIEFkZCB0aGUgZm9sbG93aW5nIGxpbmU6CgogICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9IHRva2VuOwogICAgICAgICAgY29tbWl0KCdhdXRoX3N1Y2Nlc3MnLCB0b2tlbiwgdXNlcik7CiAgICAgICAgICByZXNvbHZlKHJlc3ApOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIGNvbW1pdCgnYXV0aF9lcnJvcicsIGVycik7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsKICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoX3JlZjIsIHVzZXIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBjb21taXQoJ2F1dGhfcmVxdWVzdCcpOwogICAgICAgIGF4aW9zKHsKICAgICAgICAgIHVybDogJ2h0dHBzOi8vZ3Jhc3BlcmFwaS5henVyZXdlYnNpdGVzLm5ldC9hcGkvdjEvVXNlcnMvcmVnaXN0ZXInLAogICAgICAgICAgZGF0YTogdXNlciwKICAgICAgICAgIG1ldGhvZDogJ1BPU1QnCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgdmFyIHRva2VuID0gcmVzcC5kYXRhLnRva2VuOwogICAgICAgICAgdmFyIHVzZXIgPSByZXNwLmRhdGEudXNlcjsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKTsgLy8gQWRkIHRoZSBmb2xsb3dpbmcgbGluZToKCiAgICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gdG9rZW47CiAgICAgICAgICBjb21taXQoJ2F1dGhfc3VjY2VzcycsIHRva2VuLCB1c2VyKTsKICAgICAgICAgIHJlc29sdmUocmVzcCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29tbWl0KCdhdXRoX2Vycm9yJywgZXJyKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOwogICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KF9yZWYzKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgY29tbWl0KCdsb2dvdXQnKTsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsKICAgICAgICBkZWxldGUgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXTsKICAgICAgICByZXNvbHZlKCk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgaXNMb2dnZWRJbjogZnVuY3Rpb24gaXNMb2dnZWRJbihzdGF0ZSkgewogICAgICByZXR1cm4gISFzdGF0ZS50b2tlbjsKICAgIH0sCiAgICBhdXRoU3RhdHVzOiBmdW5jdGlvbiBhdXRoU3RhdHVzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5zdGF0dXM7CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["C:/Users/mmak/KJSP/kwproductsapp/src/store/index.js"],"names":["Vue","Vuex","axios","use","Store","state","status","token","localStorage","getItem","user","pagenum","numpages","mutations","auth_request","auth_success","auth_error","err","logout","updatePageNum","num","console","log","updatePageCount","pagecount","actions","login","commit","Promise","resolve","reject","url","data","method","then","resp","setItem","defaults","headers","common","catch","removeItem","register","getters","isLoggedIn","authStatus"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport axios from 'axios'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n\tstate: {\r\n\t\tstatus: '',\r\n\t\ttoken: localStorage.getItem('token') || '',\r\n        user: {},\r\n        pagenum: '1',\r\n        numpages: '-1'\r\n\t},\r\n\tmutations: {\r\n\t\tauth_request(state) {\r\n\t\t\tstate.status = 'loading'\r\n\t\t},\r\n\t\tauth_success(state, token, user) {\r\n\t\t\tstate.status = 'success'\r\n\t\t\tstate.token = token\r\n\t\t\tstate.user = user\r\n\t\t},\r\n\t\tauth_error(state, err) {\r\n\t\t\tstate.status = err\r\n\t\t},\r\n\t\tlogout(state) {\r\n\t\t\tstate.status = ''\r\n\t\t\tstate.token = ''\r\n        },\r\n        updatePageNum(state, num){\r\n            console.log(num)\r\n            state.pagenum = num\r\n        },\r\n        updatePageCount(state, pagecount){\r\n            console.log(pagecount)\r\n            state.numpages = pagecount\r\n        }\r\n\t},\r\n\tactions: {\r\n\t\tlogin({\r\n\t\t\tcommit\r\n\t\t}, user) {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tcommit('auth_request')\r\n\t\t\t\taxios({\r\n\t\t\t\t\t\turl: 'https://grasperapi.azurewebsites.net/api/v1/Users/authenticate',\r\n\t\t\t\t\t\tdata: user,\r\n\t\t\t\t\t\tmethod: 'POST'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(resp => {\r\n\t\t\t\t\t\tconst token = resp.data.token\r\n\t\t\t\t\t\tconst user = resp.data.user\r\n\t\t\t\t\t\tlocalStorage.setItem('token', token)\r\n                        // Add the following line:\r\n\t\t\t\t\t\taxios.defaults.headers.common['Authorization'] = token\r\n\t\t\t\t\t\tcommit('auth_success', token, user)\r\n\t\t\t\t\t\tresolve(resp)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n                        commit('auth_error', err)\r\n\t\t\t\t\t\tlocalStorage.removeItem('token')\r\n\t\t\t\t\t\treject(err)\r\n\t\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\tregister({\r\n\t\t\tcommit\r\n\t\t}, user) {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tcommit('auth_request')\r\n\t\t\t\taxios({\r\n\t\t\t\t\t\turl: 'https://grasperapi.azurewebsites.net/api/v1/Users/register',\r\n\t\t\t\t\t\tdata: user,\r\n\t\t\t\t\t\tmethod: 'POST'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(resp => {\r\n\t\t\t\t\t\tconst token = resp.data.token\r\n\t\t\t\t\t\tconst user = resp.data.user\r\n\t\t\t\t\t\tlocalStorage.setItem('token', token)\r\n\t\t\t\t\t\t// Add the following line:\r\n\t\t\t\t\t\taxios.defaults.headers.common['Authorization'] = token\r\n\t\t\t\t\t\tcommit('auth_success', token, user)\r\n\t\t\t\t\t\tresolve(resp)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tcommit('auth_error', err)\r\n\t\t\t\t\t\tlocalStorage.removeItem('token')\r\n\t\t\t\t\t\treject(err)\r\n\t\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\tlogout({\r\n\t\t\tcommit\r\n\t\t}) {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tcommit('logout')\r\n\t\t\t\tlocalStorage.removeItem('token')\r\n\t\t\t\tdelete axios.defaults.headers.common['Authorization']\r\n\t\t\t\tresolve()\r\n\t\t\t})\r\n\t\t}\r\n\t},\r\n\tgetters: {\r\n\t\tisLoggedIn: state => !!state.token,\r\n\t\tauthStatus: state => state.status,\r\n\t}\r\n})"]}]}