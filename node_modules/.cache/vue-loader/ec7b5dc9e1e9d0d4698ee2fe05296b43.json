{"remainingRequest":"C:\\Users\\mmak\\KJSP\\kwproductsapp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\mmak\\KJSP\\kwproductsapp\\src\\components\\Products.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\mmak\\KJSP\\kwproductsapp\\src\\components\\Products.vue","mtime":1607642207952},{"path":"C:\\Users\\mmak\\KJSP\\kwproductsapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\mmak\\KJSP\\kwproductsapp\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\mmak\\KJSP\\kwproductsapp\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\mmak\\KJSP\\kwproductsapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\mmak\\KJSP\\kwproductsapp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdVc2VycycsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJzOiBudWxsLAogICAgICBtZXNzYWdlOiAiIiwKICAgICAgZmlyc3R0YWJsZTogInRydWUiLAogICAgICBsb2FkaW5nOiAibm8iCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgICAgcGFnZU51bTogewogICAgICAgICAgZ2V0KCkgewogICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5wYWdlbnVtOwogICAgICAgICAgfSwKICAgICAgICAgIHNldCh2YWx1ZSkgewogICAgICAgICAgICAgIGlmKHRoaXMubG9hZGluZyA9PSAiZmluaXNoZWQiKQogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgLy90aGlzLiRyZWZzLmJ0bmNobmdwYWdlLmRpc2FibGVkID0gZmFsc2UKICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd1cGRhdGVQYWdlTnVtJywgdmFsdWUpOwogICAgICAgICAgICAgICAgICAvL3RoaXMuJHJlZnMuYnRuY2huZ3BhZ2UuaW5uZXJUZXh0ID0gIkp1bXAgdG8gcGFnZSAiK3RoaXMuJHN0b3JlLnN0YXRlLnBhZ2VudW0rIiBvZiAiK3RoaXMuJHN0b3JlLnN0YXRlLm51bXBhZ2VzCiAgICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICB9LAogICAgICBwYWdlQ291bnQ6ewogICAgICAgICAgZ2V0KCkgewogICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5udW1wYWdlczsKICAgICAgICAgIH0KCiAgICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgICAgZ2V0c2lnbmFscygpewoKICAgICAgICAgIGlmKE51bWJlcih0aGlzLiRzdG9yZS5zdGF0ZS5wYWdlbnVtKSA8IDEpewogICAgICAgICAgICAgIHRoaXMubWVzc2FnZSArPSAiIENhbm5vdCBsb2FkIG5leHQgcGFnZS4gTnVtYmVyIGVudGVyZWQgaXMgYmxhbmsgb3IgbGVzcyB0aGFuIDEuIgogICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgfQogICAgICAgICAgaWYodGhpcy4kc3RvcmUuc3RhdGUubnVtcGFnZXMgIT0nLTEnICYmIE51bWJlcih0aGlzLiRzdG9yZS5zdGF0ZS5wYWdlbnVtKSA+PSBOdW1iZXIodGhpcy4kc3RvcmUuc3RhdGUubnVtcGFnZXMpKQogICAgICAgICAgewogICAgICAgICAgICAgIHRoaXMubWVzc2FnZSArPSAiIENhbm5vdCBsb2FkIG5leHQgcGFnZS4gTnVtYmVyIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIHRvdGFsIHBhZ2UgbnVtYmVyczogIit0aGlzLiRzdG9yZS5zdGF0ZS5udW1wYWdlcysiLiIKICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgIH0KICAgICAgICAgIHRoaXMubWVzc2FnZSArPSAiIExvYWRpbmcgcGFnZSAiK3RoaXMuJHN0b3JlLnN0YXRlLnBhZ2VudW0rIi4iCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSAic3RhcnRlZCIKICAgICAgICAgIGF4aW9zKHsKICAgICAgICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9ncmFzcGVyYXBpLmF6dXJld2Vic2l0ZXMubmV0L2FwaS92MS9TaWduYWxzPycrJ1BhZ2U9Jyt0aGlzLiRzdG9yZS5zdGF0ZS5wYWdlbnVtKycmTGltaXQ9MTAnLAogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgJyArIHRoaXMuJHN0b3JlLnN0YXRlLnRva2VuLAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnCiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9ICJmaW5pc2hlZCIKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLm51bVBhZ2VzKQogICAgICAgICAgaWYodGhpcy5maXJzdHRhYmxlID09ICJ0cnVlIikKICAgICAgICAgIHsKICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3VwZGF0ZVBhZ2VDb3VudCcsIHJlcy5kYXRhLm51bVBhZ2VzKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICJDdXJyZW50IHBhZ2UgIit0aGlzLiRzdG9yZS5zdGF0ZS5wYWdlbnVtKyIgb2YgIit0aGlzLiRzdG9yZS5zdGF0ZS5udW1wYWdlcysiLiI7CiAgICAgICAgICB0aGlzLnVzZXJzID0gcmVzLmRhdGEuaXRlbXM7CiAgICAgICAgICB0aGlzLmZpcnN0dGFibGUgPSAiZmFsc2UiCiAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgIHRoaXMubWVzc2FnZSArPSAiICIrZXJyCiAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gImZpbmlzaGVkIgogICAgICAgICAgfSkKICAgICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24oKSB7CiAgICAgIGxldCBzZWxmPXRoaXM7CiAgICAgIHRoaXMuZ2V0c2lnbmFscygpCiAgfQp9Cg=="},{"version":3,"sources":["Products.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Products.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n   <div class=\"container\">\r\n    <table class=\"table table-responsive w-100 d-block d-md-table table-sm table-dark text-center\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">alarmNum</th>\r\n          <th scope=\"col\">eventCodeDesc</th>\r\n          <th scope=\"col\">pointDesc</th>\r\n          <th scope=\"col\">signalCode</th>\r\n          <th scope=\"col\">xmit</th>\r\n          <th scope=\"col\">siteDate</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"user in users\"> \r\n          <th scope=\"row\">{{user.alarmNum}}</th>\r\n          <td>{{user.eventCodeDesc}}</td>\r\n          <td>{{user.pointDesc}}</td>\r\n          <td>{{user.signalCode}}</td>\r\n          <td>{{user.xmit}}</td>\r\n          <td>{{ user.siteDate | formatDate}}</td>\r\n        </tr>\r\n      </tbody>    \r\n    </table> \r\n    <p v-if=\"message!='finished'\">{{message}}</p>\r\n    <div v-if=\"firsttable!='true'\" class=\"btn-group\" role=\"group\">\r\n            <input class=\"w-25\" v-model=\"pageNum\" type=\"number\" required>\r\n            <button type=\"button\" class=\"btn btn-secondary\" @click=\"getsignals()\" ref=\"btnchngpage\" onclick=\"this.disabled = true;\">Jump to page #</button>\r\n    </div>\r\n  </div> \r\n</template>\r\n<script>\r\n  import axios from 'axios';\r\n  import moment from 'moment';\r\n  export default {\r\n    name: 'Users',\r\n    data() {\r\n      return {\r\n        users: null,\r\n        message: \"\",\r\n        firsttable: \"true\",\r\n        loading: \"no\"\r\n      };\r\n    },\r\n    computed: {\r\n        pageNum: {\r\n            get() {\r\n                return this.$store.state.pagenum;\r\n            },\r\n            set(value) {\r\n                if(this.loading == \"finished\")\r\n                {\r\n                    //this.$refs.btnchngpage.disabled = false\r\n                    this.$store.commit('updatePageNum', value);\r\n                    //this.$refs.btnchngpage.innerText = \"Jump to page \"+this.$store.state.pagenum+\" of \"+this.$store.state.numpages\r\n                }\r\n            }\r\n        },\r\n        pageCount:{\r\n            get() {\r\n                return this.$store.state.numpages;\r\n            }\r\n\r\n        }\r\n    },\r\n    methods: {\r\n        getsignals(){\r\n\r\n            if(Number(this.$store.state.pagenum) < 1){\r\n                this.message += \" Cannot load next page. Number entered is blank or less than 1.\"\r\n                return\r\n            }\r\n            if(this.$store.state.numpages !='-1' && Number(this.$store.state.pagenum) >= Number(this.$store.state.numpages))\r\n            {\r\n                this.message += \" Cannot load next page. Number entered is greater than total page numbers: \"+this.$store.state.numpages+\".\"\r\n                return\r\n            }\r\n            this.message += \" Loading page \"+this.$store.state.pagenum+\".\"\r\n            this.loading = \"started\"\r\n            axios({\r\n                    url: 'https://grasperapi.azurewebsites.net/api/v1/Signals?'+'Page='+this.$store.state.pagenum+'&Limit=10',\r\n                    headers: {\r\n                                Authorization: 'Bearer ' + this.$store.state.token,\r\n                    },\r\n                    method: 'GET'\r\n            })\r\n            .then(res => {\r\n            this.loading = \"finished\"\r\n            console.log(res.data.numPages)\r\n            if(this.firsttable == \"true\")\r\n            {\r\n                this.$store.commit('updatePageCount', res.data.numPages);\r\n            }\r\n            this.message = \"Current page \"+this.$store.state.pagenum+\" of \"+this.$store.state.numpages+\".\";\r\n            this.users = res.data.items;\r\n            this.firsttable = \"false\"\r\n            }).catch(err => {\r\n                this.message += \" \"+err\r\n                this.loading = \"finished\"\r\n            })\r\n        }\r\n    },\r\n    created: function() {\r\n        let self=this;\r\n        this.getsignals()\r\n    }\r\n  }\r\n</script>"]}]}